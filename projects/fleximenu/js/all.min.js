var MU_System=angular.module("MU",[]);MU_System.factory("muMenus",["$rootScope","$timeout",function(a){function b(b,c){var e=c||{},f="boolean"==typeof e.visible?e.visible:!0,g=e.state||"open",h=e.sizeOpen||50,i=e.sizeClosed||10;return u.items[b]={visible:f,state:g,children:{},styles:{open:h,closed:i}},u.order.push(b),d(),a.$broadcast("MU_menuAdded",{menuID:b}),t}function c(b){var c=angular.copy(u.order),d=u.items[b],f=e(b);return d.order=f,a.$broadcast("MU_menuReordered",{menuID:b,oldOrder:c,newOrder:u.order}),t}function d(){var a;for(a in u.items)c(a);return t}function e(a){var b=4-u.order.indexOf(a);return b}function f(a){var b,c,e=[],f=0;for(b="undefined"==typeof a?[]:"string"==typeof a?a.split(" "):a;f<b.length;f+=1)c=b[f],u.order.indexOf(c)>-1&&e.push(c);if(e.length!==u.order.length)for(f=0;f<u.order.length;f+=1)c=u.order[f],-1===e.indexOf(c)&&e.push(c);return u.order=e,d(),t}function g(b,c,e){return u.items[b].visible="boolean"==typeof c?c:!u.items[b].visible,e||n(b),d(),a.$broadcast("MU_visibilityToggled",{menuID:b}),t}function h(a){return u.items[a].visible}function i(b,c,e){var f=u.items[b];return f.state="string"==typeof c?c:"open"===f.state?"closed":"open",e||n(b),d(),a.$broadcast("MU_stateToggled",{menuID:b,newState:f.state}),t}function j(a){return u.items[a].state}function k(a,b){return j(a)===b}function l(a,b,c){var d="string"==typeof a?a.split(" "):a;return v.push({menus:d,how:b}),o(b,d[0],d[1]),t}function m(a,b){var c,d,e,f,g=0;if(!a)return v=[],t();for(f="string"==typeof a?a.split(" "):a;g<v.length;g+=1)c=v[g],d=c.menuIDs.indexOf(f[0]),e=c.menuIDs.indexOf(f[1]),(-1!==d&&-1!==e&&d!==e&&!b||b===c.how)&&v.splice(g,1);return t}function n(a){var b,c,d,e,f=0;for(u.items[a];f<v.length;f+=1)b=v[f],c=b.menus.indexOf(a),c>-1&&(d=1-c,e=b.menus[1-c],o(b.how,a,e))}function o(a,b,c){switch(a){case"one open":p(b,c);break;case"one closed":q(b,c);break;case"one visible":r(b,c);break;case"one hidden":s(b,c)}}function p(a,b){{var c=u.items[a];u.items[b]}"open"===c.state&&i(b,"closed",!0)}function q(a,b){{var c=u.items[a];u.items[b]}"closed"===c.state&&i(b,"open",!0)}function r(a,b){{var c=u.items[a];u.items[b]}c.visible&&g(b,!1,!0)}function s(a,b){{var c=u.items[a];u.items[b]}c.visible||g(b,!0,!0)}function t(){return u}var u={items:{},order:[]},v=[];return t.add=b,t.link=l,t.unlink=m,t.reorder=f,t.toggleState=i,t.toggleVisibility=g,t.setOrder=c,t.isVisible=h,t.is=k,t.state=j,t.menus=u.items,t.menusBase=u,t}]),MU_System.factory("muContent",["$window","$rootScope","$timeout","muMenus",function(a,b,c,d){function e(){var a=f("left"),b=f("right"),c=f("top"),d=f("bottom");a+b>l.containerWidth&&(a>l.containerWidth?(b=0,a=l.containerWidth):b=l.containerWidth-a),m={top:c,right:b,bottom:d,left:a,order:0}}function f(a){var b;return b=n.items[a]&&n.items[a].visible?n.items[a].styles[n.items[a].state]:0}function g(){var a,d=+new Date;d-q>300&&(a=l.mediaClass,h(),p&&c.cancel(p),p=c(function(){g(),b.$broadcast("MU_windowResized"),p=!1},300))}function h(){var a=document.getElementById("MU").parentNode,b=a.getBoundingClientRect().right-a.getBoundingClientRect().left,c=a.getBoundingClientRect().bottom-a.getBoundingClientRect().top,d=b-f("left")-f("right"),e=c-f("top")-f("bottom");return l.containerWidth=b,l.contentWidth=d,l.containerHeight=c,l.contentHeight=e,j(),d}function i(a){for(var c,d,e,f=1,g=arguments;f<g.length;f+=1){switch(d=g[f],typeof d){case"string":case"number":e=(""+d).split(" ");break;default:e=d}for(c=0;c<e.length;c+=1)o[a].push(+e[c])}return o[a].sort(k),j(),b.$broadcast("MU_windowResized"),l}function j(){for(var a,b="",c=0;c<o.w.length&&(a=o.w[c],a<=l.contentWidth);c+=1)b+=" media__min-width__"+a;l.mediaClass=b}function k(a,b){return a-b}function l(){}var m={},n=d.menusBase,o={w:[],h:[]},p=!1,q=+new Date;return angular.element(a).bind("resize",g),b.$on("MU_menuAdded",function(){h()}),b.$on("MU_visibilityToggled",function(){e(),h()}),b.$on("MU_stateToggled",function(){e(),h()}),h(),l.addQuery=i,l.metrics=function(){return m},l.mediaClass="",l.containerWidth=0,l.contentWidth=0,l.containerHeight=0,l.contentHeight=0,l}]);var myApp=angular.module("myApp",["MU"]);angular.module("myApp").run(["$templateCache",function(a){"use strict";a.put("templates/content/center.html","<div hero-area></div><p class=widthDisplay></p><div game-grid></div><div test-buttons></div>"),a.put("templates/directives/gameGridDirective.html",'<div class=gameGrid><div class=gameGrid__game ng-repeat="game in gameGrid.games track by game.id"><div class=gameGrid__game__inner ng-style="{ \'background-color\': game.bg }"></div></div></div>'),a.put("templates/directives/heroAreaDirective.html","<div class=hero ng-style=hero.contentHeight()><h1 class=hero__title>{{ hero.title }}</h1></div>"),a.put("templates/directives/leftMenuDirective.html",'<div class="MU__menu-left MU__menu-left--{{ !MU_left.menus.isVisible( \'left\' ) && \'hidden\' || MU_left.menus.state( \'left\' ) }}" ng-style=MU_left.leftStyle()><div class=MU__menu-left__inner><div class="MU__navIcons MU__navIcons-left"><button class=MU__navIcons__item ng-click="MU_left.toggle( $index )" ng-repeat="button in MU_left.items" ng-class="{ \'MU__navIcons-left__item--active\': MU_left.openItem === $index }">{{ $index }}</button></div><div class=MU-you><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p></div></div></div>'),a.put("templates/directives/muSystemDirective.html","<div class=\"MU {{ MU.content.mediaClass }} {{ MU.getClassName() }}\" id=MU ng-style=MU.systemStyle()><div class=\"MU__menu-top MU__menu-top--{{ !MU.menus.isVisible( 'top' ) && 'hidden' || MU.menus.state( 'top' ) }}\" ng-style=MU.topStyle()><div class=MU__menu-top__inner ng-include=\" 'templates/menus/top.html' \"></div></div><div left-menu></div><div right-menu></div><div class=\"MU__menu-bottom MU__menu-bottom--{{ !MU.menus.isVisible( 'bottom' ) && 'hidden' || MU.menus.state( 'bottom' ) }}\" ng-style=MU.bottomStyle()><div class=MU__menu-bottom__inner ng-include=\" 'templates/menus/bottom.html' \"></div></div><div class=MU__center><div class=MU__center__scroll><div class=MU__center__content ng-include=\" 'templates/content/center.html' \"></div></div></div></div>"),a.put("templates/directives/rightMenuDirective.html",'<div class="MU__menu-right MU__menu-right--{{ !MU_right.menus.isVisible( \'right\' ) && \'hidden\' || MU_right.menus.state( \'right\' ) }}" ng-style=MU_right.rightStyle()><div class=MU__menu-right__inner><div class="MU__navIcons MU__navIcons-right"><button class=MU__navIcons__item ng-click="MU_right.toggle( $index )" ng-repeat="button in MU_right.items" ng-class="{ \'MU__navIcons-right__item--active\': MU_right.openItem === $index }">{{ $index }}</button></div><div class=MU-me><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p><p class=MU__mainNavItem>ONE</p></div></div></div>'),a.put("templates/directives/testButtonsDirective.html",'<div class=testButtons><hr style="clear: both"><span>Toggle open:</span><br><button ng-repeat="(title, menu) in testButtons.menus.menus track by title" ng-click="testButtons.menus.toggleState( title )">{{ title }}</button><hr><span>Toggle visiblity:</span><br><button ng-repeat="(title, menu) in testButtons.menus.menus track by title" ng-click="testButtons.menus.toggleVisibility( title )"><span ng-if="testButtons.menus.isVisible( title )">Hide {{ title }}</span> <span ng-if="!testButtons.menus.isVisible( title )">Show {{ title }}</span></button><hr><span>Prioritise:</span><br><button ng-repeat="(title, menu) in testButtons.menus.menus track by title" ng-click="testButtons.menus.reorder( title )">Lift {{ title }}</button><hr><span>Link:</span> <button ng-show="testButtons.menus.menus[\'left\'] && testButtons.menus.menus[\'right\']" ng-click="testButtons.linkMenus( \'left right\' )">left and right</button> <button ng-show="testButtons.menus.menus[\'top\'] && testButtons.menus.menus[\'bottom\']" ng-click="testButtons.linkMenus( \'top bottom\' )">top and bottom</button><br><span>Unlink:</span> <button ng-show="testButtons.menus.menus[\'left\'] && testButtons.menus.menus[\'right\']" ng-click="testButtons.unlinkMenus( \'left right\' )">left and right</button> <button ng-show="testButtons.menus.menus[\'top\'] && testButtons.menus.menus[\'bottom\']" ng-click="testButtons.unlinkMenus( \'top bottom\' )">top and bottom</button> <button ng-click=testButtons.menus.unlink()>all</button></div>'),a.put("templates/menus/bottom.html","- -- --- -- - Cookies - -- --- -- - <button class=MU__menu-bottom__switch ng-click=\"MU.menus.toggleVisibility( 'bottom' )\"></button>"),a.put("templates/menus/top.html","<nav class=MU__menu-top__nav>ONE - - TWO - - THREE - - FOUR</nav><div class=MU__menu-top__switch><button class=MU__menu-top__switch__right ng-click=\"MU.menus.toggleState( 'top' )\">Toggle Nav</button></div>")}]),myApp.directive("gameGrid",function(){return{controller:"GameGridController",controllerAs:"gameGrid",bindToController:!0,replace:!0,templateUrl:"templates/directives/gameGridDirective.html"}}).controller("GameGridController",["muMenus","$scope","$interval",function(){var a=0;for(this.games=[];20>a;a+=1)this.games.push({id:a,bg:"rgb("+(110+Math.floor(30*Math.random()))+","+(110+Math.floor(30*Math.random()))+","+(110+Math.floor(30*Math.random()))+")"})}]),myApp.directive("heroArea",function(){return{controller:"HeroController",controllerAs:"hero",bindToController:!0,replace:!0,templateUrl:"templates/directives/heroAreaDirective.html"}}).controller("HeroController",["muContent",function(a){function b(){var b=Math.max(200,Math.min(.6*a.contentHeight,a.contentWidth));return{height:b+"px"}}this.contentHeight=b,this.title="Hero Title"}]),myApp.directive("leftMenu",function(){return{controller:"MUMenuLeftController",controllerAs:"MU_left",bindToController:!0,replace:!0,templateUrl:"templates/directives/leftMenuDirective.html"}}).controller("MUMenuLeftController",["muMenus","$scope",function(a,b){var c=this;this.items=[0,1],this.openItem=-1,this.toggle=function(b){c.openItem===b?(c.openItem=-1,a.toggleState("left","closed")):(c.openItem=b,a.toggleState("left","open"))},b.$on("MU_stateToggled",function(a,b){"left"===b.menuID&&("closed"===b.newState?c.openItem=-1:-1===c.openItem&&(c.openItem=0))})}]),myApp.directive("muSystem",function(){return{controller:"MUSystemController",controllerAs:"MU",bindToController:!0,replace:!0,templateUrl:"templates/directives/muSystemDirective.html"}}).controller("MUSystemController",["muMenus","muContent","$scope","$interval",function(a,b,c){function d(a){return a.substr(0,1).toUpperCase()+a.substr(1)}var e=this;this.getClassName=function(){var b,c,e,f,g="";for(b in a.menus){e=a.menus[b],g+=" MU-"+b+"--"+(e.visible?e.state:"hidden"),g+=" MU-"+b+"Order"+e.order;for(c in a.menus)c!==b&&(f=a.menus[c],g+=e.order>f.order?" MU-"+b+"Above"+d(c):" MU-"+b+"Below"+d(c))}return g},this.linkMenus=function(b){a.link(b,prompt())},this.unlinkMenus=function(b){a.unlink(b,prompt())},a.add("top",{sizeOpen:80,sizeClosed:50}).add("bottom",{state:"open",sizeOpen:60,sizeClosed:50}).add("right",{state:"closed",sizeOpen:260,sizeClosed:50}).add("left",{state:"closed",sizeOpen:260,sizeClosed:50}).link("left right","one open"),b.addQuery("w","100 200 300 400 500 600 700 800 900 1000 1100 1200 1300 1400 1500 1600 1700"),this.menus=a,this.content=b,this.leftIcons="0 1 2 3 4".split(" "),this.rightIcons="0 1 2 3".split(" "),this.leftOpen=-1,this.rightOpen=-1,this.selectLeft=function(a){e.leftOpen=e.leftOpen!==a?a:-1},this.selectRight=function(a){e.rightOpen=e.rightOpen!==a?a:-1},c.$on("MU_windowResized",function(){c.$apply()})}]),myApp.directive("rightMenu",function(){return{controller:"MUMenuRightController",controllerAs:"MU_right",bindToController:!0,replace:!0,templateUrl:"templates/directives/rightMenuDirective.html"}}).controller("MUMenuRightController",["muMenus","$scope",function(a,b){var c=this;this.items=[0,1,2,3,4],this.openItem=-1,this.menus=a,this.toggle=function(b){c.openItem===b?(c.openItem=-1,a.toggleState("right","closed")):(c.openItem=b,a.toggleState("right","open"))},b.$on("MU_stateToggled",function(a,b){"right"===b.menuID&&("closed"===b.newState?c.openItem=-1:-1===c.openItem&&(c.openItem=0))})}]),myApp.directive("testButtons",function(){return{controller:"TestButtonsController",controllerAs:"testButtons",bindToController:!0,replace:!0,templateUrl:"templates/directives/testButtonsDirective.html"}}).controller("TestButtonsController",["muMenus",function(a){this.menus=a}]);
//# sourceMappingURL=all.min.js.map