{"version":3,"sources":["../../../.tmp/concat/scripts/main.21.js"],"names":["window","document","body","classList","add","attachViewerToElement","attachedTo_elt","openInViewer","e","preventDefault","imageBounds","clickedImage","getBoundingClientRect","viewerImg","src","src_big","viewerImgContainer","style","top","left","width","height","display","viewerUnderlay","overflow","setTimeout","centerViewerImage","addEventListener","closeViewer","setTransitions","opacity","removeEventListener","scrollTop","scrollLeft","hideViewer","viewerSpeed","undefined","unsetTransitions","transitionProperty","clickedImageIllustration","querySelector","imgBackgroundImage","backgroundImage","slice","indexOf","lastIndexOf","replace","imagePreloader","Image","createElement","className","appendChild","transitionDuration","Array","prototype","forEach","call","querySelectorAll","BRK_carousel","options","incrementPosition","o","explicit","by","removeActiveClass","parseInt","i","settlePosition","renderFilm","nextSet","carouselWidth","carousel_elt","incBy","Math","max","floor","w","previousSet","n","min","alert","setActiveClass","film_elt","viewFinder_elt","marginLeft","itemFocus_class","item_elt","remove","item_elts","carousel_class","viewFinder_class","film_class","item_class","length","inc","bind","next","prev","prevSet","goto","get","position","count","brk","carousel","stallLogoResize","stall","clearTimeout","setLogoSize","scrollY","headLogo_elt","setHeadDisplay","prevScroll","showMargin_top","getDocHeight","innerHeight","showMargin_bottom","mainHeadContainer_elt","scrollHeight","offsetHeight","documentElement","clientHeight","Infinity","toggleMenuDisplay","menuToggleContainer_elt","toggle","pageTitle_elt","goToPreviousPosition","setClasses","goToNextPosition","prev_elt","next_elt","container_elt"],"mappings":"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","file":"main.21.js","sourcesContent":["if( 'ontouchstart' in window ) {\n\tdocument.body.classList.add( 'HAS-touch' );\n} else {\n\tdocument.body.classList.add( 'NO-touch' );\n}\n(function(){\n\n\n\n\n//\tVariable decalrations\nvar viewerUnderlay     = document.createElement('div');\nvar\tviewerImgContainer = document.createElement('div');\nvar\tviewerImg          = document.createElement('img');\nvar viewerSpeed        = 0.5;\n\nvar imageBounds;\n\n\n\nviewerUnderlay.className     = 'imageViewer';\nviewerImgContainer.className = 'imageViewerImageContainer';\nviewerImg.className          = 'imageViewerImage';\n\n\n\nviewerImgContainer.appendChild( viewerImg );\ndocument.body.appendChild( viewerUnderlay );\ndocument.body.appendChild( viewerImgContainer );\n\nviewerImgContainer.style.transitionDuration = viewerSpeed + 's';\nviewerUnderlay.style.transitionDuration = viewerSpeed + 's';\n\n//\tAdd viewer to all created sites\nArray.prototype.forEach.call( document.querySelectorAll('.builtSite'), attachViewerToElement );\n\n\n\n\n\n//\tFunctions\nfunction attachViewerToElement ( attachedTo_elt ) {\n\n\tvar clickedImage             = attachedTo_elt;\n\tvar clickedImageIllustration = clickedImage.querySelector( '.builtSite__image' );\n\tvar imgBackgroundImage       = clickedImageIllustration.style.backgroundImage;\n\tvar src                      = imgBackgroundImage.slice(\n\t\t\timgBackgroundImage.indexOf('(') + 1,\n\t\t\timgBackgroundImage.lastIndexOf(')')\n\t\t).replace(/['\"]+/g, '');\n\tvar src_big                  = src.replace( /(\\.\\w{3,4})$/, '-big$1' );\n\tvar imagePreloader = new Image();\n\n\t//\tPreload the full preview\n\timagePreloader.src = src_big;\n\tattachedTo_elt.addEventListener( 'click', openInViewer, false );\n\n\tfunction openInViewer ( e ) {\n\t\te.preventDefault();\n\n\t\timageBounds = clickedImage.getBoundingClientRect();\n\n\t\tviewerImg.src = src_big;\n\n\t\tviewerImgContainer.style.top        = imageBounds.top + 'px';\n\t\tviewerImgContainer.style.left       = imageBounds.left + 'px';\n\t\tviewerImgContainer.style.width      = imageBounds.width + 'px';\n\t\tviewerImgContainer.style.height     = imageBounds.height + 'px';\n\t\tviewerImgContainer.style.display = 'block';\n\n\n\t\tviewerUnderlay.style.display = 'block';\n\t\tdocument.body.style.overflow = 'hidden';\n\n\t\tsetTimeout( centerViewerImage, 4 );\n\n\t\tviewerImgContainer.addEventListener('click', closeViewer, false);\n\t\tviewerUnderlay.addEventListener('click', closeViewer, false);\n\n\t}\n\n\tfunction centerViewerImage () {\n\t\tsetTransitions();\n\n\t\tviewerImgContainer.style.top    = '5%';\n\t\tviewerImgContainer.style.left   = '5%';\n\t\tviewerImgContainer.style.width  = '90%';\n\t\tviewerImgContainer.style.height = '90%';\n\t\tviewerImgContainer.style.opacity = 1;\n\n\t\tviewerUnderlay.style.opacity = '0.9';\n\t}\n\n\tfunction closeViewer () {\n\t\tviewerImgContainer.removeEventListener('click', closeViewer, false);\n\t\tviewerUnderlay.removeEventListener('click', closeViewer, false);\n\n\n\n\t\tviewerImgContainer.scrollTop  = 0;\n\t\tviewerImgContainer.scrollLeft = 0;\n\n\t\tviewerImgContainer.style.top        = imageBounds.top + 'px';\n\t\tviewerImgContainer.style.left       = imageBounds.left + 'px';\n\t\tviewerImgContainer.style.width      = imageBounds.width + 'px';\n\t\tviewerImgContainer.style.height     = imageBounds.height + 'px';\n\t\tviewerImgContainer.style.opacity = 0;\n\n\t\tviewerUnderlay.style.opacity = 0;\n\n\t\tdocument.body.style.overflow = 'auto';\n\n\n\n\t\tsetTimeout( hideViewer, viewerSpeed*1000 );\n\t}\n\n\tfunction hideViewer () {\n\t\tviewerImgContainer.style.display = 'none';\n\t\tviewerUnderlay.style.display = 'none';\n\n\t\timageBounds = undefined;\n\n\t\tunsetTransitions();\n\t}\n\n\tfunction setTransitions () {\n\t\tviewerUnderlay.style.transitionProperty     = 'opacity';\n\t\tviewerImgContainer.style.transitionProperty = 'top, left, width, height, opacity';\n\t}\n\n\tfunction unsetTransitions () {\n\t\tviewerUnderlay.style.transitionProperty     = 'none';\n\t\tviewerImgContainer.style.transitionProperty = 'opacity';\n\t}\n\n\n\n}\n\n\n\n\n\n}());\n\n//\tPLUGIN -- BRK_Carousel\n\n(function( document, window, undefined ){\n\nwindow.brk = window.brk || {};\n\nbrk.carousel = BRK_carousel;\n\n\n\n\n//\tFunctions\n\nfunction BRK_carousel ( options ) { // CLOSURE BEGIN -- setCarousel\n\n//\tVariables\nvar o = options || {};\n\n//\t - Element class names\nvar carousel_class = 'carousel';\nvar viewFinder_class = 'viewFinder';\nvar film_class = 'film';\nvar item_class = 'item';\nvar itemFocus_class = 'item--focused';\n\n//\t - DOM Elements\n//\tThe container for all of the carousel parts.\nvar carousel_elt = document.querySelector( '.' + carousel_class );\n//\tA box the same size as an item which is always\n//\t\tin the same position as the current item.\nvar viewFinder_elt = carousel_elt.querySelector( '.' + viewFinder_class );\n//\tThe container element for all of the items.\n//\tThis film is 'threaded' through the viewfinder.\nvar film_elt = viewFinder_elt.querySelector( '.' + film_class );\n//\tThe items.\nvar item_elts = film_elt.querySelectorAll( '.' + item_class );\n\n//\t - Simulation data\nvar w = o.width || 100;\nvar n = item_elts.length;\nvar i = 0;\n\n\n\nsetActiveClass();\nviewFinder_elt.style.width = w + 'px';\nfilm_elt.style.width       = ( w*n ) + 'px';\nArray.prototype.forEach.call( item_elts, function ( item_elt ) {\n\titem_elt.style.width = w + 'px';\n});\n\n\n//\tReturn\nreturn {\n\tinc: incrementPosition.bind( null, false ),\n\n\tnext: function(){\n\t\tincrementPosition();\n\t},\n\tnextSet: nextSet,\n\n\tprev: function(){\n\t\tincrementPosition({\n\t\t\tby: -1\n\t\t});\n\t},\n\tprevSet: previousSet,\n\n\tgoto: incrementPosition.bind( null, true ),\n\n\tget: {\n\t\tposition: function(){ return i },\n\t\tcount:    function(){ return n }\n\t}\n}\n\n//\tFunctions\nfunction incrementPosition ( options ) {\n\tvar o = options || {};\n\n\tvar explicit = o.explicit || false;\n\tvar by       = o.by        || 1;\n\tvar overflow = o.overflow || 'wrap';\n\n\n\tremoveActiveClass();\n\n\t//  Make sure by is an integer\n\tby = parseInt( by, 10 );\n\n\t//\tIncrement the film as desired\n\tif ( explicit ) {\n\t\ti = by;\n\t} else {\n\t\ti += by;\n\t}\n\n\tsettlePosition( overflow );\n\n\t//\tMove the film elements to their new positions\n\trenderFilm();\n}\n\nfunction nextSet () {\n\tvar carouselWidth = carousel_elt.getBoundingClientRect().width;\n\tvar incBy = Math.max( 1, Math.floor( carouselWidth / w ) );\n\n\tincrementPosition({\n\t\tby:       incBy,\n\t\toverflow: 'stop'\n\t});\n}\n\nfunction previousSet () {\n\tvar carouselWidth = carousel_elt.getBoundingClientRect().width;\n\tvar incBy = Math.max( 1, Math.floor( carouselWidth / w ) );\n\n\tincrementPosition({\n\t\tby:       -incBy,\n\t\toverflow: 'stop'\n\t});\n}\n\nfunction settlePosition ( overflow ) {\n\n\tif ( overflow === 'wrap' ) {\n\t\t//\tMake sure the position is positive\n\t\twhile ( i < 0 ) {\n\t\t\ti += n;\n\t\t}\n\n\t\t//\tMake sure the number isn't too big\n\t\ti = i%n;\n\t} else if ( overflow === 'stop' ) {\n\t\ti = Math.max( 0, Math.min( i, n-1 ) )\n\t}\n\n\telse{\n\t\talert('broken');\n\t}\n}\n\n//\tStyle the film elements to represent the data\nfunction renderFilm () {\n\tsetActiveClass();\n\n\tfilm_elt.style.left = -( i*w ) + 'px';\n\n\tviewFinder_elt.style.left = ( i*( 1/( n - 1 ) ) )*100 + '%';\n\tviewFinder_elt.style.marginLeft = -( i*( 1/( n - 1 ) ) )*w + 'px';\n}\n\n//\tRemove the active class from all items\nfunction removeActiveClass () {\n\tArray.prototype.forEach.call(\n\t\tfilm_elt.querySelectorAll( '.' + itemFocus_class ),\n\t\tfunction ( item_elt ) {\n\t\t\titem_elt.classList.remove( itemFocus_class );\n\t\t}\n\t);\n}\n\n//\tAdd the active class to the currently active item\nfunction setActiveClass () {\n\titem_elts[ i ].classList.add( itemFocus_class );\n}\n\n} // CLOSURE END -- setCarousel\n\n\n\n\n\n\n\n}( document, window ));\n/*\n(function(){\"use strict\";\n\n\n\nvar imgs = document.querySelectorAll( '[style]' );\n\nArray.prototype.forEach.call( imgs, upgradeImages );\n\n\n\n//\tFunctions\nfunction upgradeImages ( elt ) {\n\tvar imageURL = elt.style.backgroundImage;\n\n\tif ( imageURL.indexOf( '-sml.' ) > -1 ) {\n\t\tloadImage( elt, imageURL );\n\t}\n};\n\nfunction loadImage ( elt, imageURL ) {\n\telt.classList.add( 'brk-enhancing' );\n\n\tvar image = new Image();\n\tvar newImageURL = imageURL\n\t\t.match( /url\\('?\"?([^)'\"]+)'?\"?\\)/ )[1]\n\t\t.replace( '-sml.', '.' );\n\n\timage.addEventListener( 'load', replaceImage, false );\n\timage.src    = newImageURL;\n\n\n\n\t//\tFunctions\n\tfunction replaceImage () {\n\t\telt.classList.remove( 'brk-enhancing' );\n\n\t\telt.style.backgroundImage = 'url(' + newImageURL + ')';\n\t}\n}\n\n\n\n}());\n*/\n(function(){\"use strict\";\n\n\n\nvar headLogo_elt = document.querySelector( '.headLogo' );\nvar stall;\n\nsetLogoSize();\nwindow.addEventListener( 'scroll', stallLogoResize, false );\n\nfunction stallLogoResize () {\n\tif ( stall ) {\n\t\tclearTimeout( stall );\n\t}\n\n\tstall = setTimeout( setLogoSize, 300 );\n}\n\nfunction setLogoSize ( e ) {\n\tstall = false;\n\n\tif( scrollY > 25 ) {\n\t\theadLogo_elt.classList.add( 'headLogo--fit' );\n\t} else {\n\t\theadLogo_elt.classList.remove( 'headLogo--fit' );\n\t}\n}\n\n\n\n}());\n(function(){\"use strict\";\n\n\n\nvar mainHeadContainer_elt = document.querySelector( '.mainHeadContainer' );\n//\tSetting this to infinity ensures the header isn't hidden on page load\nvar prevScroll = Infinity;\n\nvar showMargin_top = 60;\nvar showMargin_bottom = 60;\n\nwindow.addEventListener( 'scroll', setHeadDisplay, false );\n\nfunction setHeadDisplay () {\n\t//\tIf we're:\n\t//\t -\tscrolling up\n\t//\t -\tnear the top\n\t//\t -\tnear the bottom\n\t//\tthen show the header\n\tif ( scrollY < prevScroll  ||  scrollY < showMargin_top  || scrollY > getDocHeight() - innerHeight - showMargin_bottom ) {\n\t\tmainHeadContainer_elt.classList.remove( 'mainHeadContainer--hidden' );\n\n\t} else {\n\t\tmainHeadContainer_elt.classList.add( 'mainHeadContainer--hidden' );\n\t}\n\n\t//\tReset the previous scroll variable\n\tprevScroll = scrollY;\n}\n\nfunction getDocHeight () {\n\treturn Math.max( document.body.scrollHeight, document.body.offsetHeight,\n\t                 document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight );\n}\n\n\n\n}());\n(function(){\"use strict\";\n\n\n\nvar menuToggleContainer_elt = document.querySelector('.menuToggle');\nvar pageTitle_elt = document.querySelector('.pageTitle');\n\n\nmenuToggleContainer_elt.addEventListener( 'click', toggleMenuDisplay, false );\n\n\n\n//\tFunctions\nfunction toggleMenuDisplay ( e ) {\n\tmenuToggleContainer_elt.classList.toggle( 'menuToggle--open' );\n\tpageTitle_elt.classList.toggle( 'pageTitle--hidden' );\n}\n\n\n\n}());\n(function(){\n\n\n\nvar prev_elt  = document.querySelector( '.carouselPrev' );\nvar next_elt  = document.querySelector( '.carouselNext' );\nvar container_elt  = document.querySelector( '.carouselContainer' );\n\nvar carousel = brk.carousel({\n\twidth: 200\n});\n\nprev_elt.addEventListener( 'click', goToPreviousPosition, false );\nnext_elt.addEventListener( 'click', goToNextPosition, false );\n\nsetClasses();\ncontainer_elt.classList.remove( 'carouselContainer--inactive' );\n\n\n//\tFUNCTIONS\n\nfunction goToPreviousPosition () {\n\tcarousel.prevSet();\n\n\tsetClasses();\n}\n\nfunction goToNextPosition () {\n\tcarousel.nextSet();\n\n\tsetClasses();\n}\n\nfunction setClasses () {\n\n\tprev_elt.classList.remove( 'carouselPrev--disabled' );\n\tnext_elt.classList.remove( 'carouselPrev--disabled' );\n\n\tif ( carousel.get.position() === 0 ) {\n\t\tprev_elt.classList.add( 'carouselPrev--disabled' );\n\t}\n\n\tif ( carousel.get.position() === carousel.get.count()-1 ) {\n\t\tnext_elt.classList.add( 'carouselPrev--disabled' );\n\t}\n}\n\n\n\n}());\n(function(){\n\n\n\n//\n\n\n\n}())\n//# sourceMappingURL=main.21.js.map"]}