<!doctype html><html lang=en><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=../../base.css><link rel=stylesheet href=../post.css><a href=../../ >Back&nbsp;to listing</a><article><small>Last updated: <time pubdate datetime=2023-03-17T06:14:54.000Z>Sat Mar 18 2023</time></small><h1 id=human-numbers-js>Human numbers .js</h1><p>I was playing around making a function that would output numbers as a human would say them.<h2 id=usage>Usage</h2><p>The use looks like this:<pre><code class=language-js><span class="token function">buildTextNumber</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">// => "zero"</span>
</code></pre><h3 id=loads-of-examples>Loads of examples</h3><pre><code class=language-js><span class="token function">buildTextNumber</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span>
<span class="token comment">// => "thirteen"</span>
</code></pre><p>In order to accept really big numbers, you can pass in strings (don’t worry if you left some leading zeros)…<pre><code class=language-js><span class="token function">buildTextNumber</span><span class="token punctuation">(</span><span class="token string">'0000907000021'</span><span class="token punctuation">)</span>
<span class="token comment">// => "nine hundred and seven million and twenty one"</span>
</code></pre><p>Or if you’re feeling brave, even big ints…<pre><code class=language-js><span class="token function">buildTextNumber</span><span class="token punctuation">(</span><span class="token number">32000000000000900001n</span><span class="token punctuation">)</span>
<span class="token comment">// => "thirty two quintillion, nine hundred thousand and one"</span>
</code></pre><h3 id=a-vigin-what-now>A vigin-what-now?</h3><p>The biggest accepted number so far…<pre><code class=language-js><span class="token function">buildTextNumber</span><span class="token punctuation">(</span><span class="token number">999999999999999999999999999999999999999999999999999999999999999999n</span><span class="token punctuation">)</span>
<span class="token comment">// => "nine hundred and ninety nine vigintillion, nine hundred and ninety nine novemdecillion, nine hundred and ninety nine octodecillion, nine hundred and ninety nine septendecillion, nine hundred and ninety nine sexdecillion, nine hundred and ninety nine quindecillion, nine hundred and ninety nine quattuordecillion, nine hundred and ninety nine tredecillion, nine hundred and ninety nine duodecillion, nine hundred and ninety nine undecillion, nine hundred and ninety nine decillion, nine hundred and ninety nine nonillion, nine hundred and ninety nine octillion, nine hundred and ninety nine septillion, nine hundred and ninety nine sextillion, nine hundred and ninety nine quintillion, nine hundred and ninety nine quadrillion, nine hundred and ninety nine trillion, nine hundred and ninety nine billion, nine hundred and ninety nine million, nine hundred and ninety nine thousand, nine hundred and ninety nine"</span>
</code></pre><h2 id=playground>Playground</h2><p>Try it!</p><input id=NUMBER_INPUT value=0 placeholder=1234> <span id=NUMBER_DISPLAY>zero</span><script>"use strict";
const units = [
    'zero', 'one', 'two', 'three', 'four', 'five',
    'six', 'seven', 'eight', 'nine', 'ten', 'eleven',
    'twelve', 'thirteen', 'fourteen', 'fifteen',
    'sixteen', 'seventeen', 'eighteen', 'nineteen',
];
const tens = [
    '', 'ten', 'twenty', 'thirty', 'fourty',
    'fifty', 'sixty', 'seventy', 'eighty', 'ninety',
];
const exponents = [
    '', 'thousand', 'million', 'billion', 'trillion', 'quadrillion',
    'quintillion', 'sextillion', 'septillion', 'octillion', 'nonillion',
    'decillion', 'undecillion', 'duodecillion', 'tredecillion',
    'quattuordecillion', 'quindecillion', 'sexdecillion',
    'septendecillion', 'octodecillion', 'novemdecillion', 'vigintillion',
];
const largestNumber = 1000n ** BigInt(exponents.length) - 1n;
function renderNumberGroup(numberGroup, exponent, exponentCount, ending) {
    const unit = numberGroup.at(-1);
    const ten = numberGroup.at(-2) || 0;
    const hundred = numberGroup.at(-3) || 0;
    const unitAndTen = ten * 10 + unit;
    return `${hundred ? `${units[hundred]} hundred${unitAndTen ? ' and ' : ''}` : ''}${unitAndTen && unitAndTen < 20
        ? units[unitAndTen]
        : `${ten ? `${tens[ten]} ` : ''}${unit ? units[unit] : ten || exponentCount > 1 ? '' : units[0]}`}${exponent && (hundred || unitAndTen)
        ? ` ${exponents[exponent]}${ending === 'and' ? ' and' : ending === 'comma' ? ',' : ''}`
        : ''}`;
}
function buildTextNumber(number) {
    const numbers = [...String(number)];
    const firstNonNumber = numbers.find((digit) => Number.isNaN(+digit));
    if (firstNonNumber) {
        throw new Error(`This only works with integers, but you included “${firstNonNumber}”`);
    }
    if (BigInt(number) > largestNumber) {
        throw new Error(`As of now, this only supports numbers up to 10^${exponents.length * 3}-1`);
    }
    const numberGroups = [];
    numbers.reverse();
    numbers.forEach((number) => {
        const lastGroup = numberGroups.at(-1);
        if (!lastGroup || lastGroup.length === 3) {
            numberGroups.push([+number]);
        }
        else {
            lastGroup.push(+number);
        }
    });
    numberGroups.forEach((group) => group.reverse());
    let ending = 'comma';
    const namedNumberParts = numberGroups.map((numberGroup, index, numberGroups) => {
        const rendered = renderNumberGroup(numberGroup, index, numberGroups.length, ending);
        // So as to read better, we replace the comma of the last
        //   exponent with “and” if there’s no hundred.
        // eg. “one million and three” vs “one million, three”
        if (ending === 'comma' ) {
          if (index === 0) {
            if (numberGroup.reduce((curr, item) => curr + item) === 0) {
              ending = 'none';
            } else if (numberGroup.at(-3) === 0) {
              ending = 'and';
            }
          }
        }
        else if (ending && rendered) {
            ending = 'comma';
        }
        return rendered;
    });
    namedNumberParts.reverse();
    return namedNumberParts.join(' ').replace(/\s{2,}/g, ' ');
}

const oninput = () => {
  if (!NUMBER_INPUT.value) {
    NUMBER_DISPLAY.textContent = 'Type something in!'
    return;
  }

  try {
    NUMBER_DISPLAY.textContent = buildTextNumber(NUMBER_INPUT.value);
  } catch (e) {
    NUMBER_DISPLAY.textContent = e.message;
  }
};
NUMBER_INPUT.oninput = oninput;
oninput();</script><h2 id=the-code>The code</h2><p>For anyone wanting to try it for themseleves, or if you wanna improve on it:<pre><code class=language-typescript><span class="token keyword">type</span> <span class="token class-name">ExponentJoiner</span> <span class="token operator">=</span> <span class="token string">'none'</span> <span class="token operator">|</span> <span class="token string">'comma'</span> <span class="token operator">|</span> <span class="token string">'and'</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">NumberGroup</span> <span class="token operator">=</span>
  <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span>
  <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> units <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'zero'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">,</span> <span class="token string">'five'</span><span class="token punctuation">,</span>
  <span class="token string">'six'</span><span class="token punctuation">,</span> <span class="token string">'seven'</span><span class="token punctuation">,</span> <span class="token string">'eight'</span><span class="token punctuation">,</span> <span class="token string">'nine'</span><span class="token punctuation">,</span> <span class="token string">'ten'</span><span class="token punctuation">,</span> <span class="token string">'eleven'</span><span class="token punctuation">,</span>
  <span class="token string">'twelve'</span><span class="token punctuation">,</span> <span class="token string">'thirteen'</span><span class="token punctuation">,</span> <span class="token string">'fourteen'</span><span class="token punctuation">,</span> <span class="token string">'fifteen'</span><span class="token punctuation">,</span>
  <span class="token string">'sixteen'</span><span class="token punctuation">,</span> <span class="token string">'seventeen'</span><span class="token punctuation">,</span> <span class="token string">'eighteen'</span><span class="token punctuation">,</span> <span class="token string">'nineteen'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> tens <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'ten'</span><span class="token punctuation">,</span> <span class="token string">'twenty'</span><span class="token punctuation">,</span> <span class="token string">'thirty'</span><span class="token punctuation">,</span> <span class="token string">'fourty'</span><span class="token punctuation">,</span>
  <span class="token string">'fifty'</span><span class="token punctuation">,</span> <span class="token string">'sixty'</span><span class="token punctuation">,</span> <span class="token string">'seventy'</span><span class="token punctuation">,</span> <span class="token string">'eighty'</span><span class="token punctuation">,</span> <span class="token string">'ninety'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> exponents <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'thousand'</span><span class="token punctuation">,</span> <span class="token string">'million'</span><span class="token punctuation">,</span> <span class="token string">'billion'</span><span class="token punctuation">,</span> <span class="token string">'trillion'</span><span class="token punctuation">,</span> <span class="token string">'quadrillion'</span><span class="token punctuation">,</span>
  <span class="token string">'quintillion'</span><span class="token punctuation">,</span> <span class="token string">'sextillion'</span><span class="token punctuation">,</span> <span class="token string">'septillion'</span><span class="token punctuation">,</span> <span class="token string">'octillion'</span><span class="token punctuation">,</span> <span class="token string">'nonillion'</span><span class="token punctuation">,</span>
  <span class="token string">'decillion'</span><span class="token punctuation">,</span> <span class="token string">'undecillion'</span><span class="token punctuation">,</span> <span class="token string">'duodecillion'</span><span class="token punctuation">,</span> <span class="token string">'tredecillion'</span><span class="token punctuation">,</span>
  <span class="token string">'quattuordecillion'</span><span class="token punctuation">,</span> <span class="token string">'quindecillion'</span><span class="token punctuation">,</span> <span class="token string">'sexdecillion'</span><span class="token punctuation">,</span>
  <span class="token string">'septendecillion'</span><span class="token punctuation">,</span> <span class="token string">'octodecillion'</span><span class="token punctuation">,</span> <span class="token string">'novemdecillion'</span><span class="token punctuation">,</span> <span class="token string">'vigintillion'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> largestNumber <span class="token operator">=</span> <span class="token number">1000n</span> <span class="token operator">**</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>exponents<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1n</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">renderNumberGroup</span><span class="token punctuation">(</span>
  numberGroup<span class="token operator">:</span> NumberGroup<span class="token punctuation">,</span>
  exponent<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  exponentCount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  ending<span class="token operator">:</span> ExponentJoiner<span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> unit <span class="token operator">=</span> numberGroup<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> ten <span class="token operator">=</span> numberGroup<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> hundred <span class="token operator">=</span> numberGroup<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> unitAndTen <span class="token operator">=</span> ten <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> unit<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    hundred <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>units<span class="token punctuation">[</span>hundred<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> hundred</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>unitAndTen <span class="token operator">?</span> <span class="token string">' and '</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    unitAndTen <span class="token operator">&amp;&amp;</span> unitAndTen <span class="token operator">&lt;</span> <span class="token number">20</span>
      <span class="token operator">?</span> units<span class="token punctuation">[</span>unitAndTen<span class="token punctuation">]</span>
      <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ten <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tens<span class="token punctuation">[</span>ten<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
          unit <span class="token operator">?</span> units<span class="token punctuation">[</span>unit<span class="token punctuation">]</span> <span class="token operator">:</span> ten <span class="token operator">||</span> exponentCount <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> units<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    exponent <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hundred <span class="token operator">||</span> unitAndTen<span class="token punctuation">)</span>
      <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ending <span class="token operator">===</span> <span class="token string">'and'</span> <span class="token operator">?</span> <span class="token string">' and'</span> <span class="token operator">:</span> ending <span class="token operator">===</span> <span class="token string">'comma'</span> <span class="token operator">?</span> <span class="token string">','</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token operator">:</span> <span class="token string">''</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">buildTextNumber</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> bigint <span class="token operator">|</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token builtin">number</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^0+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> firstNonNumber <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span> <span class="token operator">=></span> Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token operator">+</span>digit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>firstNonNumber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">This only works with integers, but you included </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstNonNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">></span> largestNumber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">As of now, this only supports numbers up to 10^</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
        exponents<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">3</span>
      <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-1</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> numberGroups<span class="token operator">:</span> NumberGroup<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  numbers<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> lastGroup <span class="token operator">=</span> numberGroups<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lastGroup <span class="token operator">||</span> lastGroup<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      numberGroups<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">+</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      lastGroup<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  numberGroups<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span> <span class="token operator">=></span> group<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> ending<span class="token operator">:</span> ExponentJoiner <span class="token operator">=</span> <span class="token string">'comma'</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> namedNumberParts <span class="token operator">=</span> numberGroups<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>numberGroup<span class="token punctuation">,</span> index<span class="token punctuation">,</span> numberGroups<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> rendered <span class="token operator">=</span> <span class="token function">renderNumberGroup</span><span class="token punctuation">(</span>
        numberGroup<span class="token punctuation">,</span>
        index<span class="token punctuation">,</span>
        numberGroups<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        ending<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// So as to read better, we replace the comma of the last</span>
      <span class="token comment">//   exponent with “and” if there’s no hundred.</span>
      <span class="token comment">// eg. “one million and three” vs “one million, three”</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>ending <span class="token operator">===</span> <span class="token string">'comma'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>numberGroup<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>curr<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=></span> curr <span class="token operator">+</span> item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ending <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>numberGroup<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ending <span class="token operator">=</span> <span class="token string">'and'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ending <span class="token operator">&amp;&amp;</span> rendered<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ending <span class="token operator">=</span> <span class="token string">'comma'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> rendered<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  namedNumberParts<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> namedNumberParts<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s{2,}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id=ai-will-rule-us-all>AI will rule us all!</h2><p>lol, jokez. I showed this to a friend and they suggested that this is exacly the kind of thing that AI would have given me a result for much more quickly than I could have written it myself. So… we tried!<h3 id=chat-gpt>Chat GPT</h3><p>Chat GPT gave up before it could finish the function (I’m wondering if it’s because I’m using the free version)<h3 id=bing>Bing</h3><p>Bing gave a kind of working version, so long as the numbers are above zero, and aren’t too big. Here are some outputs:<pre><code class=language-js><span class="token function">numToWords</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">// => ""</span>
</code></pre><pre><code class=language-js><span class="token function">numToWords</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span>
<span class="token comment">// => "nineteen"</span>
</code></pre><pre><code class=language-js><span class="token function">numToWords</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span>
<span class="token comment">// => "nine nine hundred ninety nine"</span>
</code></pre><pre><code class=language-js><span class="token function">numToWords</span><span class="token punctuation">(</span><span class="token number">123456789</span><span class="token punctuation">)</span>
<span class="token comment">// => "one hundred twenty three four hundred fifty six seven hundred eighty nine"</span>
</code></pre><p>It’s actually <strong>GOT</strong> the code to do numbers up to a trillion, but it’s added some weird code to the <code>bigs</code> line. Correct that line and you get:<pre><code class=language-js><span class="token function">numToWords</span><span class="token punctuation">(</span><span class="token number">123456789</span><span class="token punctuation">)</span>
<span class="token comment">// => "one hundred twenty three million four hundred fifty six thousand seven hundred eighty nine"</span>
</code></pre><pre><code class=language-js><span class="token keyword">function</span> <span class="token function">numToWords</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ones <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">,</span> <span class="token string">'five'</span><span class="token punctuation">,</span> <span class="token string">'six'</span><span class="token punctuation">,</span> <span class="token string">'seven'</span><span class="token punctuation">,</span> <span class="token string">'eight'</span><span class="token punctuation">,</span> <span class="token string">'nine'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> teens <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'eleven'</span><span class="token punctuation">,</span> <span class="token string">'twelve'</span><span class="token punctuation">,</span> <span class="token string">'thirteen'</span><span class="token punctuation">,</span> <span class="token string">'fourteen'</span><span class="token punctuation">,</span> <span class="token string">'fifteen'</span><span class="token punctuation">,</span> <span class="token string">'sixteen'</span><span class="token punctuation">,</span><span class="token string">'seventeen'</span><span class="token punctuation">,</span><span class="token string">'eighteen'</span><span class="token punctuation">,</span><span class="token string">'nineteen'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> tens <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'twenty'</span><span class="token punctuation">,</span><span class="token string">'thirty'</span><span class="token punctuation">,</span><span class="token string">'forty'</span><span class="token punctuation">,</span><span class="token string">'fifty'</span><span class="token punctuation">,</span><span class="token string">'sixty'</span><span class="token punctuation">,</span><span class="token string">'seventy'</span><span class="token punctuation">,</span><span class="token string">'eighty'</span><span class="token punctuation">,</span><span class="token string">'ninety'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> bigs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'thousand'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'million'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'billion'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'trillion'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">convertChunk</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> chunkWords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">>=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            chunkWords<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ones<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" hundred"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            num <span class="token operator">%=</span> <span class="token number">100</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">>=</span> <span class="token number">11</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">&lt;=</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            chunkWords<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>teens<span class="token punctuation">[</span>num <span class="token operator">-</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">||</span> num <span class="token operator">>=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            chunkWords<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tens<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            num <span class="token operator">%=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">>=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            chunkWords<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ones<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> chunkWords<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> chunks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>num <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chunks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>num <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> chunks<span class="token punctuation">.</span>length <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> chunk <span class="token operator">=</span> chunks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>chunk <span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            words<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">convertChunk</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>bigs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                words<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>bigs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> chunks<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                words<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"and"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
             words<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>


     <span class="token punctuation">}</span>

     <span class="token keyword">return</span> words<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></article><script src=../post.js type=module async></script><link rel=stylesheet href=../syntax-theme.css><link rel=stylesheet href=../syntax-theme-override.css>